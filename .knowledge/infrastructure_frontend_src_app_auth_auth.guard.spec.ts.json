{"is_source_file": true, "format": "TypeScript", "description": "This is a test specification file for the auth.guard, testing its behavior with respect to user authentication token presence, using Angular testing utilities and Jasmine spies.", "external_files": ["./auth.guard", "./auth.service"], "external_methods": ["Router.navigate", "AuthService.hasToken", "TestBed.configureTestingModule", "TestBed.inject"], "published": [], "classes": [{"name": "MockRouter", "description": "A mock class to simulate Angular's Router for testing purposes, with a spy on the navigate method."}], "methods": [{"name": "beforeEach", "description": "Sets up the testing environment before each test, configuring testing module, injecting dependencies, and initializing localStorage."}, {"name": "it('should block navigation without token')", "description": "Test case verifying that authGuard blocks navigation and redirects to login when no token is present."}, {"name": "it('should allow navigation with token')", "description": "Test case verifying that authGuard permits navigation when a valid token is present."}], "calls": ["TestBed.configureTestingModule", "TestBed.inject", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "localStorage.clear", "auth.hasToken", "authGuard", "router.navigate"], "search-terms": ["auth guard spec", "Angular Jasmine mockRouter", "localStorage mock", "authGuard behavior", "auth guard test"], "state": 2, "file_id": 56, "knowledge_revision": 126, "git_revision": "33880593283eb9e6cce15b70c369bac3011e694b", "ctags": [{"_type": "tag", "name": "MockRouter", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-management-system-40508-40518/infrastructure_frontend/src/app/auth/auth.guard.spec.ts", "pattern": "/^class MockRouter {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "allowed", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-management-system-40508-40518/infrastructure_frontend/src/app/auth/auth.guard.spec.ts", "pattern": "/^    const allowed = authGuard();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "auth", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-management-system-40508-40518/infrastructure_frontend/src/app/auth/auth.guard.spec.ts", "pattern": "/^  let auth: AuthService;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "navigate", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-management-system-40508-40518/infrastructure_frontend/src/app/auth/auth.guard.spec.ts", "pattern": "/^  navigate = jasmine.createSpy('navigate');$/", "language": "TypeScript", "kind": "property", "scope": "MockRouter", "scopeKind": "class"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-infrastructure-management-system-40508-40518/infrastructure_frontend/src/app/auth/auth.guard.spec.ts", "pattern": "/^  let router: MockRouter;$/", "language": "TypeScript", "kind": "variable"}], "hash": "978e7996ee75804fe8b18d41b041a362", "format-version": 4, "code-base-name": "infrastructure_frontend", "filename": "infrastructure_frontend/src/app/auth/auth.guard.spec.ts", "fields": [{"name": "let auth: AuthService;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "navigate = jasmine.createSpy('navigate');", "scope": "MockRouter", "scopeKind": "class", "description": "unavailable"}, {"name": "let router: MockRouter;", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"126": "33880593283eb9e6cce15b70c369bac3011e694b"}]}